(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(40)},25:function(e,t,n){},27:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(17),r=n.n(o),c=(n(25),n(19)),l=n(13),u=(n(27),"https://api2.climacell.co/v2/historical"),m={geocode:{lon:-71.3120271,lat:44.2705999},start_time:new Date("March 18, 2018 04:00:00 UTC").toISOString(),end_time:new Date("March 19, 2018 03:59:59 UTC").toISOString(),timestep:1,fields:[{name:"wind_gust",units:"kph"}]},s={method:"POST",headers:{"Content-Type":"application/json",apiKey:"mFW54hIC4r5puNkKBrcfQ3Xy3dqFYXCJ"},body:JSON.stringify(m)},d=function(e){return{x:new Date(e.observation_time.value).getTime(),y:e.wind_gust.value,size:1}};var h=n(5),f={hour:"2-digit",minute:"2-digit",timeZone:"America/New_York",hour12:!1},p=function(e){return"".concat(e," kph")},g=function(e){return new Date(e).toLocaleTimeString("en-US",f)};function w(e){return i.a.createElement("div",{className:"graph-container"},i.a.createElement(h.c,{width:2400,height:400,margin:{top:20,right:20,bottom:60,left:80}},i.a.createElement(h.b,{title:"Time",position:"middle",tickFormat:g}),i.a.createElement(h.d,{title:"Gust Speed",position:"middle",tickFormat:p}),i.a.createElement(h.a,{data:e.data,colorType:"literal",color:"royalblue",className:"foo",sizeRange:[1,4]})))}var y=function(){var e=Object(a.useState)({dataList:null,maximum:null}),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(null),m=Object(l.a)(r,2),h=m[0],f=m[1],p=function(e,t,n){return t.y>e.y&&((e=Object(c.a)({},t)).i=n),e};return Object(a.useEffect)(function(){n.dataList||fetch(u,s).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).then(function(e){return e.map(d)}).catch(function(e){return console.error(e),null}).then(function(e){if(e){var t=e.reduce(p,{y:0,x:0,i:0});e[t.i].color="indianred",e[t.i].size="4",o({dataList:e,maximum:t}),f(null)}else f("Could not fetch data, retrying")})}),i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"March 18 2018, Mount Washington NH"),h&&i.a.createElement("h3",{className:"error"},h),n.maximum?i.a.createElement("h3",null,"Hats are most likely to fly at ",g(n.maximum.x)," with a wind gust speed of ",n.maximum.y," kph"):i.a.createElement("h3",{className:"loading"},"Loading..."),n.dataList&&i.a.createElement(w,{data:n.dataList}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.2d99cc25.chunk.js.map