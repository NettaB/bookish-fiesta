(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(40)},25:function(e,t,n){},27:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),o=n(17),r=n.n(o),c=(n(25),n(19)),l=n(13),u=(n(27),"https://api2.climacell.co/v2/historical"),m={geocode:{lon:-71.3120271,lat:44.2705999},start_time:new Date("March 18, 2018 04:00:00 UTC").toISOString(),end_time:new Date("March 19, 2018 03:59:59 UTC").toISOString(),timestep:1,fields:[{name:"wind_gust",units:"kph"}]},s={method:"POST",headers:{"Content-Type":"application/json",apiKey:"mFW54hIC4r5puNkKBrcfQ3Xy3dqFYXCJ"},body:JSON.stringify(m)};var d=n(5),h={hour:"2-digit",minute:"2-digit",timeZone:"America/New_York",hour12:!1},f=function(e){return"".concat(e," kph")},p=function(e){return new Date(e).toLocaleTimeString("en-US",h)};function g(e){return i.a.createElement("div",{className:"graph-container"},i.a.createElement(d.c,{width:2400,height:400,margin:{top:20,right:20,bottom:60,left:80}},i.a.createElement(d.b,{title:"Time",position:"middle",tickFormat:p}),i.a.createElement(d.d,{title:"Gust Speed",position:"middle",tickFormat:f}),i.a.createElement(d.a,{data:e.data,colorType:"literal",color:"royalblue",className:"foo",sizeRange:[1,4]})))}var w=function(){var e=Object(a.useState)({dataList:null,maximum:null}),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)(null),m=Object(l.a)(r,2),d=m[0],h=m[1],f=function(e){return{x:new Date(e.observation_time.value).getTime(),y:e.wind_gust.value,size:1}},w=function(e,t,n){return t.y>e.y&&((e=Object(c.a)({},t)).i=n),e};return Object(a.useEffect)(function(){n.dataList||fetch(u,s).then(function(e){if(e.ok)return e;throw Error(e.statusText)}).then(function(e){return e.json()}).catch(function(e){return console.error(e),null}).then(function(e){if(e){var t=function(e){var t=e.map(f),n=t.reduce(w,{y:0,x:0,i:0});return t[n.i].color="indianred",t[n.i].size="4",{dataList:t,maximum:n}}(e);o(t),h(null)}else h("Could not fetch data, retrying")})}),i.a.createElement("div",{className:"App"},i.a.createElement("h1",null,"March 18 2018, Mount Washington NH"),d&&i.a.createElement("h3",{className:"error"},d),n.maximum?i.a.createElement("h3",null,"Hats are most likely to fly at ",p(n.maximum.x)," with a wind gust speed of ",n.maximum.y," kph"):i.a.createElement("h3",{className:"loading"},"Loading..."),n.dataList&&i.a.createElement(g,{data:n.dataList}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.0e63722d.chunk.js.map